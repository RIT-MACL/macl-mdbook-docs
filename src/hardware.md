# Hardware Notes

## Teensy 4.1 Audio Library

- [Teensy Audio Library](https://www.pjrc.com/teensy/td_libs_Audio.html)

### Sample pinout

**WARNING** GENERATED BY GEMINI!!!!

```
+-------------------+
                             |    TEENSY 4.1     |
                             | (USB Connector UP)|
                             +-------------------+
[Mics 1 & 2]                 |                   |                 [ADS1198 / 1298]
(INMP441)                    |                   |                 (SPI Connection)
VDD  ----------------------> | 3.3V (250mA max)  | <----------------- VDD / DVDD
GND  ----------------------> | GND               | <----------------- GND / DGND
                             |                   |
SCK (BCLK) ----------------> | Pin 21 (BCLK1)    |
WS (LRCLK) ----------------> | Pin 20 (LRCLK1)   |
SD (Mics 1,2 Data) --------> | Pin 8  (IN1)      |
                             |                   |
* Mic 1 L/R -> GND           |                   |                 Pin 13 (SCK)  -----> SCLK
* Mic 2 L/R -> 3.3V          |                   |                 Pin 11 (MOSI) -----> DIN
                             |                   |                 Pin 12 (MISO) <----- DOUT
[Mics 3 & 4]                 |                   |                 Pin 10 (CS)   -----> CS
(INMP441)                    |                   |                 Pin 9  (INT)  <----- DRDY (Crucial!)
VDD  ----------------------> | 3.3V              |                 Pin 5  (OUT)  -----> START
GND  ----------------------> | GND               |                 Pin 7  (OUT)  -----> RESET
                             |                   |
SCK (BCLK) ----------------> | Pin 21 (BCLK1)    |
WS (LRCLK) ----------------> | Pin 20 (LRCLK1)   |
SD (Mics 3,4 Data) --------> | Pin 6  (OUT1D,    | working as IN2 while using AudioInputI2SQuad)
                             |                   |
* Mic 3 L/R -> GND           |                   |
* Mic 4 L/R -> 3.3V          +-------------------+
```

Power Management: The Teensy 4.1's 3.3V pin can supply up to 250mA. Since the ADS1198 and the four INMP441s have relatively low power consumption, you can safely power them all by routing this single 3.3V pin to the power rails (+/-) of your breadboard.

L/R Pin Hardwiring: The left/right channel selection for the microphone modules is determined by physical wiring, not software. You must physically connect (via solder or jumper wires) the L/R pins of Mics 1 & 3 to GND, and the L/R pins of Mics 2 & 4 to 3.3V.

Wire Length: Both SPI (EEG) and I2S (Audio) use high-speed digital signals. If the SCK (Pin 21) wire going to the microphones is too long (generally over 15cm or 6 inches), it can introduce noise and distort the audio. Keep your jumper wires as short and tidy as possible.

## ADS1298

This is the breakout board for [ADS1298](https://github.com/adamfeuer/ADS1298-breakout) (an SPI analog front-end):

Here's the datasheet for that IC: <https://www.ti.com/lit/ds/symlink/ads1296r.pdf>


## Second Board

The other board we're ordering is another similar SPI analog front-end, but only with 3 differential input channels: <https://protocentral.com/product/protocentral-ads1293-breakout-board/>


Here's the datasheet for that IC:
https://www.ti.com/lit/ds/symlink/ads1293.pdf?ts=1772049327855&ref_url=https%253A%252F%252Fwww.google.com%252F

## Microphone Board

Lastly this is the microphone board we ordered:

<https://electropeak.com/inmp441-mems-microphone-module-i2s-interface>

